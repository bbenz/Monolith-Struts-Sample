<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<div th:fragment="header" class="app-header">
  <div class="inner">
    <div class="logo"><a th:href="@{/}"><img th:src="@{/images/duke-ski.png}" alt="" class="logo-icon" />Duke's Ski Shop</a></div>
    <ul class="app-nav">
      <li><a th:href="@{/}">Home</a></li>
      <li><a th:href="@{/ui/products}">Products</a></li>
      <li><a th:href="@{/ui/ski-advisor}">Ski Trip Advisor</a></li>
      <li th:if="${session.loginUser != null}"><a th:href="@{/ui/orders}">Order History</a></li>
      <li th:if="${session.loginUser != null}"><a th:href="@{/ui/points}">Points</a></li>
      <li th:if="${session.loginUser != null}"><a th:href="@{/ui/addresses}">Addresses</a></li>
      <li th:if="${session.loginUser != null and session.loginUser.role == 'ADMIN'}"><a th:href="@{/ui/admin/products}">Admin: Products</a></li>
      <li th:if="${session.loginUser != null and session.loginUser.role == 'ADMIN'}"><a th:href="@{/ui/admin/orders}">Admin: Orders</a></li>
      <li th:if="${session.loginUser != null and session.loginUser.role == 'ADMIN'}"><a th:href="@{/ui/admin/coupons}">Admin: Coupons</a></li>
      <li th:if="${session.loginUser != null and session.loginUser.role == 'ADMIN'}"><a th:href="@{/ui/admin/shipping-methods}">Admin: Shipping Methods</a></li>
      <li th:if="${session.loginUser != null and session.loginUser.role == 'ADMIN'}"><a th:href="@{/ui/admin/users}">Admin: Users</a></li>
      <li th:if="${session.loginUser != null and session.loginUser.role == 'ADMIN'}"><a th:href="@{/ui/admin/reports}">Admin: Reports</a></li>
    </ul>
    <div class="actions">
      <form class="header-search" th:action="@{/ui/products}" method="get">
        <input type="text" name="keyword" placeholder="Search by product name or brand" th:value="${keyword}" />
        <button type="submit">ğŸ”</button>
      </form>
      <a th:href="@{/ui/cart}" class="btn">ğŸ›’ Cart</a>
      <span th:if="${session.loginUser != null}" class="user-name">Hello, <span th:text="${session.loginUser.username}"></span></span>
      <a th:if="${session.loginUser == null}" th:href="@{/ui/login}">Login</a>
      <a th:if="${session.loginUser != null}" th:href="@{/ui/logout}">Logout</a>
    </div>
  </div>
</div>
</body>
</html>
